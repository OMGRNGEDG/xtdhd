(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')module.exports=factory();else if(typeof define==='function'&&define.amd)define("WeValidator",[],factory);else if(typeof exports==='object')exports["WeValidator"]=factory();else root["WeValidator"]=factory()})(typeof self!=='undefined'?self:this,function(){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter});}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default']}:function getModuleExports(){return module};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0);})([(function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _validator=__webpack_require__(1);var _validator2=_interopRequireDefault(_validator);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var isWxMini=typeof wx!=='undefined'&&!!wx.showToast;var isAliMini=typeof my!=='undefined'&&!!my.showToast;var isNodeEnv=typeof module!=='undefined'&&module.exports;var WeValidator=function(){function WeValidator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,WeValidator);this.options=Object.assign({},WeValidator.defaultOptions,options);this.checkRules()}_createClass(WeValidator,[{key:'showErrorMessage',value:function showErrorMessage(params,onMessage){if(typeof onMessage==='function'){return onMessage(params)}if(typeof this.options.onMessage==='function'){return this.options.onMessage(params)}if(typeof WeValidator.onMessage==='function'){return WeValidator.onMessage(params)}if(isWxMini){return wx.showToast({title:params.msg,icon:'none'})}if(isAliMini){return my.showToast({content:params.msg,type:'none'})}if(isNodeEnv)return;alert(params.msg)}},{key:'isRuleInvalid',value:function isRuleInvalid(ruleName,attr){if(!_validator2.default.hasOwnProperty(ruleName)){console.warn&&console.warn('\u6CA1\u6709\u6B64\u9A8C\u8BC1\u7C7B\u578B\uFF1A'+ruleName+'\uFF0C\u5B57\u6BB5\uFF1A'+attr);return true}}},{key:'checkRules',value:function checkRules(){var _rules_=this.options.rules;for(var attr in _rules_){for(var ruleName in _rules_[attr]){if(this.isRuleInvalid(ruleName,attr))continue}}}},{key:'checkData',value:function checkData(data,onMessage){var _rules_=this.options.rules;var _messages_=this.options.messages;var result={};for(var attr in _rules_){for(var ruleName in _rules_[attr]){if(this.isRuleInvalid(ruleName,attr))continue;var ruleValue=_rules_[attr][ruleName];var value='';if(data.hasOwnProperty(attr)){value=data[attr]}var args=[];args.push(value);switch(Object.prototype.toString.call(ruleValue)){case'[object Function]':ruleValue=ruleValue(value,data);args.push(ruleValue);break;case'[object Array]':args=args.concat(ruleValue);break;default:args.push(ruleValue);break}if(_validator2.default[ruleName].apply(_validator2.default,args)){result[attr]={name:attr,value:value}}else{var params={name:attr,value:args.splice(0,1)[0],param:args,rule:ruleName,msg:_messages_[attr]&&_messages_[attr][ruleName]};if(_messages_.hasOwnProperty(attr)&&_messages_[attr][ruleName]){this.showErrorMessage(params,onMessage)}return false}}}return result}}]);return WeValidator}();WeValidator.defaultOptions={rules:{},messages:{},onMessage:null};WeValidator.$value=function(name){return function(value,data){return data[name]}};WeValidator.addRule=function(ruleName,method){if(_validator2.default.hasOwnProperty(ruleName)||typeof method!=='function')return;_validator2.default[ruleName]=function(value){for(var _len=arguments.length,param=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){param[_key-1]=arguments[_key]}return method.call(_validator2.default,value,param)};WeValidator[ruleName]=_validator2.default[ruleName]};for(var attr in _validator2.default){if(!_validator2.default.hasOwnProperty(attr))continue;WeValidator[attr]=_validator2.default[attr]}module.exports=WeValidator;}),(function(module,exports,__webpack_require__){"use strict";var _rules=__webpack_require__(2);var _rules2=_interopRequireDefault(_rules);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var validator={regex:function regex(str,reg){if(validator.isNull(reg)){return false}else if(validator.isNull(str)){return false}return reg.test(str)},required:function required(str){return!validator.isNull(str)},isNull:function isNull(str){if(typeof str==='undefined'||str===null||str==='null'||str===''){return true}else{return false}},equal:function equal(str,str2){return str===str2},intGreater:function intGreater(str,n){return parseFloat(str,10)>=n},intLength:function intLength(str,n){if(validator.isNull(n)){return false}var reg=new RegExp('^\\d{'+n+'}$');return validator.regex(str,reg)},intLessLength:function intLessLength(str,n){if(validator.isNull(n)){return false}var reg=new RegExp('^\\d{'+n+',}$');return validator.regex(str,reg)},intLengthRange:function intLengthRange(str,n,m){if(validator.isNull(n)||validator.isNull(m)){return false}var reg=new RegExp('^\\d{'+n+','+m+'}$');return validator.regex(str,reg)},decimalLength:function decimalLength(str,n){var reg=new RegExp('^[0-9]+(.[0-9]{'+n+'})?$');return validator.regex(str,reg)},decimalLengthRange:function decimalLengthRange(str,n,m){var reg=new RegExp('^[0-9]+(.[0-9]{'+n+','+m+'})?$');return validator.regex(str,reg)},stringLength:function stringLength(str,n){var reg=new RegExp('^.{'+n+'}$');return validator.regex(str,reg)},stringLetter:function stringLetter(str,aorA){var reg;if(validator.isNull(aorA)){reg=/^[A-Za-z]+$/}else if(aorA=='A'){reg=/^[A-Z]+$/}else if(aorA=='a'){reg=/^[a-z]+$/}else{reg=/^[A-Za-z]+$/}return validator.regex(str,reg)},stringLetterDefault:function stringLetterDefault(str){var reg=/^\w+$/;return validator.regex(str,reg)}};validator.rules=_rules2.default;var _loop=function _loop(attr){if(!_rules2.default.hasOwnProperty(attr))return'continue';validator[attr]=function(str){return _rules2.default[attr].test(str)}};for(var attr in _rules2.default){var _ret=_loop(attr);if(_ret==='continue')continue}module.exports=validator;}),(function(module,exports,__webpack_require__){"use strict";module.exports={bankCard:/^(\d{16,19})$/,mobile:/^1\d{10}$/,mobileWithSpace:/^1\d{2}\s?\d{4}\s?\d{4}$/,idCard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|x|X)$)/,chinese:/^[\u4e00-\u9fa5]{0,}$/,chinese2to8:/^[\u4e00-\u9fa5\uF900-\uFA2D]{2,8}$/,intOrFloat:/^[0-9]+\.{0,1}[0-9]{0,2}$/,int:/^[0-9]*$/,noZeroStart:/^([1-9][0-9]*)$/,specialStr:/[^%&',;=?$\x22]+/,email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,httpUrl:/^http:\/\/([\w-]+\.)+[\w-]+(\/[\w-./?%&=]*)?$/,tel:/^((\d{3,4}-)|\d{3.4}-)?\d{7,8}$/,money:/^\d+\.\d{2}$/,month:/^(0?[1-9]|1[0-2])$/,day:/^((0?[1-9])|((1|2)[0-9])|30|31)$/,html:/<(.*)>(.*)<\/(.*)>|<(.*)\/>/,spaceEnter:/\n[\s| ]*\r/,qq:/^[1-9][0-9]{4,}$/,zip:/^[\d]{6}/,doubleByte:/[^\x00-\xff]/};})])});